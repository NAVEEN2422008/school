<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Heart's Deepest Feelings</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lora:ital@0;1&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lora', serif;
            background: linear-gradient(135deg, #ffd1ff, #fae8ff, #e0c3fc, #8ec5fc);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: #2c3e50;
            line-height: 1.8;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50% }
            50% { background-position: 100% 50% }
            100% { background-position: 0% 50% }
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            width: 90%;
            max-width: 800px;
            padding: 50px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            margin: 20px auto;
            transform: translateY(0);
            transition: transform 0.3s ease;
        }

        .container:hover {
            transform: translateY(-5px);
        }

        .message-header {
            font-family: 'Playfair Display', serif;
            background: linear-gradient(135deg, #8860d0, #5ab9ea);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.8em;
            text-align: center;
            margin-bottom: 40px;
            letter-spacing: 1px;
        }

        .message-content {
            padding: 40px;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 25px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(224, 195, 252, 0.3);
            border: none;
            line-height: 2.2;
        }

        p {
            font-size: 18px;
            line-height: 2.2;
            color: #2c3e50;
            letter-spacing: 0.3px;
            margin-bottom: 25px;
            text-align: justify;
        }

        input, textarea {
            width: 100%;
            padding: 18px;
            margin: 15px 0;
            font-size: 16px;
            border: 2px solid #e0c3fc;
            border-radius: 15px;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            background: rgba(255, 255, 255, 0.9);
        }

        input:focus, textarea:focus {
            border-color: #8860d0;
            outline: none;
            box-shadow: 0 0 20px rgba(136, 96, 208, 0.2);
            transform: translateY(-2px);
        }

        button {
            width: 100%;
            padding: 20px;
            margin-top: 25px;
            font-size: 18px;
            color: #fff;
            background: linear-gradient(135deg, #8860d0, #5ab9ea);
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(136, 96, 208, 0.4);
            background: linear-gradient(135deg, #5ab9ea, #8860d0);
        }

        .signature {
            text-align: right;
            font-style: italic;
            margin-top: 40px;
            color: #8860d0;
            font-family: 'Playfair Display', serif;
            font-size: 1.2em;
            line-height: 1.8;
        }

        .heart-icon {
            color: #ff6b6b;
            font-size: 1.2em;
            animation: heartbeat 1.5s infinite;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .hidden {
            display: none;
        }

        label {
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 8px;
            display: block;
        }

        @media (max-width: 768px) {
            .container {
                padding: 30px;
            }
            .message-header {
                font-size: 2em;
            }
            p {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="form-container">
        <h1 class="message-header">Welcome to My Heart's Message</h1>
        <div id="initial-form">
            <label for="name">Your Name:</label>
            <input type="text" id="name" placeholder="Enter your name" required>
            <label for="phone">Your Phone Number:</label>
            <input type="tel" id="phone" placeholder="Enter your phone number" required>
            <button onclick="submitDetails()">Continue to Message</button>
        </div>
        <div id="verification-form" class="hidden">
            <h3 class="message-header">Verify Your Details</h3>
            <label for="verify-name">Confirm Your Name:</label>
            <input type="text" id="verify-name" placeholder="Enter your name again" required>
            <label for="verify-phone">Confirm Your Phone Number:</label>
            <input type="tel" id="verify-phone" placeholder="Enter your phone number again" required>
            <button onclick="verifyDetails()">Read My Message</button>
        </div>
    </div>

    <div class="container hidden" id="message-container">
        <h2 class="message-header">My Heart's Deepest Desire</h2>
        <div class="message-content">
            <p>
                Dear Shreenithi,
            </p>
            <p>
                I have something important to share with you, and I hope you'll take a moment to understand my feelings. For a long time now—nearly 9 years—I've carried something in my heart: I love you.
            </p>
            <p>
                Even if we can't be anything more, I would cherish the chance to be your friend. I want to be someone you can speak to freely, without fear or worry, and someone you can trust to be there for you.
            </p>
            <p>
                These 13 years have been filled with moments of seeing your radiant smile. With school ending soon, my heart yearns to hear your voice and get to know you better. Every day, I've admired your grace from afar, cherishing each glimpse as a precious gift.
            </p>
            <p>
                That Sunday when you were unwell, my heart was completely with you. I wanted to tell you that everything would be alright, to be there for you. Your wellbeing means the world to me.
            </p>
            <p>
                Through all these years, my feelings have only grown stronger. Your presence brightens every moment, and your smile truly lights up the world like an angel's blessing. All I wish for is a chance to be part of your journey.
            </p>
            <p>
                I'll always be here, quietly cheering you on. Your happiness means everything to me. Let me be someone who brings more smiles to your life.
            </p>
            <p>
                This is my heart's deepest wish: to simply be someone you can talk to, someone who makes your days a little brighter.
            </p>
            <div class="signature">
                With eternal affection and devotion,<br>
                  NAVEENKUMAR S <br>
            <span class="heart-icon">This may too much ,but i don't know how express my pain and thoughts to you</span>
            </div>
        </div>
        <label for="user-message">Your Response:</label>
        <textarea id="user-message" rows="5" placeholder="I’d love to hear your thoughts. I really want to have a conversation with you, so please, 'Miss Introvert,' let me know what I can do to make it easier for you to talk with me."></textarea>
        <button onclick="sendMessage()">Send Your Message</button>
    </div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js';
        import { getFirestore, collection, addDoc } from 'https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js';

        const firebaseConfig = {
            apiKey: "AIzaSyBvLp_zNrIRiXk-ZNDDc_xF64HJYcUdvKc",
            authDomain: "message-fdbad.firebaseapp.com",
            projectId: "message-fdbad",
            storageBucket: "message-fdbad.firebasestorage.app",
            messagingSenderId: "565231701792",
            appId: "1:565231701792:web:be19326f40058efe7e9145",
            measurementId: "G-8NNJCVCSH4"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        let originalName = '';
        let originalPhone = '';

        window.submitDetails = function() {
            originalName = document.getElementById("name").value;
            originalPhone = document.getElementById("phone").value;

            if (!originalName || !originalPhone) {
                alert("Please fill in all fields to continue.");
                return;
            }

            document.getElementById("initial-form").classList.add("hidden");
            document.getElementById("verification-form").classList.remove("hidden");
        };

        window.verifyDetails = async function() {
            const verifyName = document.getElementById("verify-name").value;
            const verifyPhone = document.getElementById("verify-phone").value;

            if (verifyName === originalName && verifyPhone === originalPhone) {
                try {
                    await addDoc(collection(db, "users"), {
                        name: originalName,
                        phone: originalPhone,
                        timestamp: new Date().toISOString()
                    });

                    document.getElementById("form-container").classList.add("hidden");
                    document.getElementById("message-container").classList.remove("hidden");
                } catch (error) {
                    console.error("Error:", error);
                }
            } else {
                alert("Details don't match. Please verify and try again.");
            }
        };

        window.sendMessage = async function() {
            const userMessage = document.getElementById("user-message").value;

            if (!userMessage) {
                alert("Please share your thoughts before sending.");
                return;
            }

            try {
                await addDoc(collection(db, "messages"), {
                    message: userMessage,
                    phone: originalPhone,
                    timestamp: new Date().toISOString()
                });
                alert("Your message has been sent successfully!");
                document.getElementById("user-message").value = "";
            } catch (error) {
                console.error("Error:", error);
            }
        };
    </script>
</body>
</html>
